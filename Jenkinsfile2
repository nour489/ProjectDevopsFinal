pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                // Example for Maven build (adjust if using Gradle)
                sh 'mvn clean package' // or `./gradlew build` for Gradle
            }
        }
         stage('Télécharger l\'Artefact') {
                    steps {
                        archiveArtifacts artifacts: '**/target/*.jar', allowEmptyArchive: true
                    }
                }
         stage('Publier dans Nexus') {
                     steps {
                         nexusPublisher nexusInstanceId: 'nexus',
                                       nexusRepositoryId: 'projet-spring',
                                       packages: [[$class: 'MavenArtifact', artifactId: 'spring-boot-starter-parent', groupId: 'org.springframework.boot', version: '2.5.3']]
                     }
                 }

    }
}
